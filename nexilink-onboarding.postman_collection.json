{
  "info": {
    "name": "Nexilink – Onboarding API",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "description": "Full backend flow: Auth → Program → Employee → Onboarding"
  },
  "variable": [
    { "key": "baseUrl", "value": "http://localhost:8000" },
    { "key": "token", "value": "" },
    { "key": "programId", "value": "" },
    { "key": "employeeId", "value": "" },
    { "key": "onboardingId", "value": "" },
    { "key": "taskId", "value": "" }
  ],
  "item": [
    {
      "name": "Auth",
      "item": [
        {
          "name": "Login (Admin)",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "url": { "raw": "{{baseUrl}}/api/auth/login" },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"admin11@nexilink.se\",\n  \"password\": \"123456\"\n}"
            }
          }
        }
      ]
    },
    {
      "name": "Programs",
      "item": [
        {
          "name": "Create Program",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": { "raw": "{{baseUrl}}/api/programs" },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Intro för nyanställd\",\n  \"description\": \"Grundläggande onboarding\",\n  \"checklistTemplate\": [\n    { \"title\": \"Välkomstmail\", \"order\": 1, \"defaultStatus\": \"Ej startad\" },\n    { \"title\": \"IT-konto\", \"order\": 2, \"defaultStatus\": \"Ej startad\" }\n  ]\n}"
            }
          }
        },
        {
          "name": "Get All Programs",
          "request": {
            "method": "GET",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": { "raw": "{{baseUrl}}/api/programs" }
          }
        }
      ]
    },
    {
      "name": "Employees",
      "item": [
        {
          "name": "Create Employee",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": { "raw": "{{baseUrl}}/api/employees" },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"fullName\": \"Anna Andersson\",\n  \"email\": \"anna@company.se\",\n  \"jobTitle\": \"Utvecklare\",\n  \"unit\": \"Tech\",\n  \"active\": true\n}"
            }
          }
        },
        {
          "name": "Get All Employees",
          "request": {
            "method": "GET",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": { "raw": "{{baseUrl}}/api/employees" }
          }
        }
      ]
    },
    {
      "name": "Onboarding",
      "item": [
        {
          "name": "Create Onboarding (Admin)",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": { "raw": "{{baseUrl}}/api/onboardings" },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"employeeId\": \"{{employeeId}}\",\n  \"programId\": \"{{programId}}\",\n  \"startDate\": \"2026-02-01\"\n}"
            }
          }
        },
        {
          "name": "Get Onboarding by ID",
          "request": {
            "method": "GET",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": { "raw": "{{baseUrl}}/api/onboardings/{{onboardingId}}" }
          }
        },
        {
          "name": "Update Task Status",
          "request": {
            "method": "PATCH",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/onboardings/{{onboardingId}}/tasks/{{taskId}}"
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"Klar\",\n  \"comment\": \"Genomfört första dagen\"\n}"
            }
          }
        }
      ]
    }
  ]
}